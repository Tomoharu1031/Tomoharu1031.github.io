
## Ubuntu20.04でDNSサーバーを構築した

<!-- https://engineer-ninaritai.com/bind-howto-config/ -->

### ゾーンファイルの設定
ゾーンファイルとは、名前解決する情報を保存しておくファイル。
つまり、IPアドレスとドメイン名の対応表。
権威DNSサーバが持っていて、フルサービスリゾルバ（名前解決のとき一番始めに聞くサーバのこと）が
名前解決できないときに使われる。

ゾーンとは、そのドメインの名前解決に必要な全ての要素のこと？みたいな。
ゾーンファイルの設定は、/etc/bind/named.conf.local に書く。

test.comゾーンの名前解決をする。
fileの部分がゾーンファイル。
```bash
zone "test.com"{
    type master;
    file "/etc/bind/db.test.com";
};
```

### ゾーンファイルの作成
ゾーンファイルの設定ができたので、ゾーンファイルを作成する。
ゾーンファイルのテンプレがdb.loaclにあるので、これをコピーして使う。
ゾーンファイルの書き方は[これ](https://wa3.i-3-i.info/word12285.html)とかが分かりやすい。
これはSOAレコードの書き方。

レコードとは、ゾーンファイルの中身の要素みたいなもので、
- SOAレコード：管理する範囲（ゾーン）に関する情報が書いてある
```bash

```

- NSレコード：管理を委託しているDNSサーバの名前が書かれている。
```bash
ドメイン名  IN NS 委託しているDNSサーバ名
```
-  MXレコード：